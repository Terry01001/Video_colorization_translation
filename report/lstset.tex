\usepackage{listings}
\usepackage{color}

\lstset{
  language=c,
  keepspaces=true, 
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  columns=fullflexible,
  breaklines=false,
  breakautoindent=false,
  breakindent=3em, 
  %basicstyle=\footnotesize\rmfamily,
  keywordstyle=\color{red},
  commentstyle=\color{blue}\textit,
  emphstyle=\color{black}\bfseries,
  numberstyle=\footnotesize,
  numbers=left,
  numbersep=1em,
  stepnumber=1,
  lineskip=0pt,
  xleftmargin=6mm,
  xrightmargin=6mm,
  flexiblecolumns=true,
  %frame=single,
  rulesepcolor=\color{blue},
  framesep=3pt,
  framexleftmargin=12pt,
  framexrightmargin=12pt,
  captionpos=b,
  float=tbp,
  %escapeinside={/*@}{@*/},
  escapechar=@,
  mathescape=true,
  %backgroundcolor=\color{yellow}
}  